---
import Badge from '../atoms/Badge.astro';

interface RelatedItem {
  label: string;
  href: string;
  badge?: string;
  badgeVariant?: 'success' | 'warning' | 'danger' | 'info' | 'neutral';
  meta?: string;
}

interface Props {
  title: string;
  items: RelatedItem[];
}

const { title, items } = Astro.props;
---

{items.length > 0 && (
  <div class="border-t border-[var(--color-border)] pt-6 mt-6">
    <h3 class="text-sm font-medium text-[var(--color-text-muted)] mb-3">{title}</h3>
    <div class="space-y-2">
      {items.map((item) => (
        <div class="flex items-center gap-2 text-sm">
          {item.badge && (
            <Badge variant={item.badgeVariant ?? 'neutral'}>
              {item.badge}
            </Badge>
          )}
          <a
            href={item.href}
            class="text-[var(--color-primary)] hover:text-[var(--color-primary-hover)] hover:underline"
            data-focusable
            tabindex="0"
          >
            {item.label}
          </a>
          {item.meta && (
            <span class="text-[var(--color-text-muted)]">{item.meta}</span>
          )}
        </div>
      ))}
    </div>
  </div>
)}
